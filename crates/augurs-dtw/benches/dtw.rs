use criterion::{criterion_group, criterion_main, BenchmarkId, Criterion};

use augurs_dtw::Dtw;

static EXAMPLES: (&[f64], &[f64]) = (
    &[
        0.24646001, 0.24445477, 0.25896338, 0.26222989, 0.26666667, 0.26315789, 0.27368421,
        0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789,
        0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667,
        0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789,
        0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421,
        0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789,
        0.27368421, 0.26315653, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667,
        0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789,
        0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368565,
        0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26089248,
        0.25777011, 0.24408589, 0.24100572, 0.24854153, 0.24688544, 0.24919123, 0.24880711,
        0.24843304, 0.24817033, 0.24877447, 0.24900437, 0.24817988, 0.24842731, 0.24865982,
        0.24972767, 0.24691411, 0.24853744, 0.24101309, 0.24420056, 0.25788477, 0.26100396,
        0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421,
        0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315878, 0.26666667, 0.26315789,
        0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667,
        0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789,
        0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421,
        0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.26315789, 0.26666667, 0.26315789,
        0.27368421, 0.26315789, 0.26666667, 0.26315789, 0.27368421, 0.25767804, 0.25808805,
        0.24444844, 0.24477216, 0.24518065, 0.25209942, 0.24162533, 0.24866964, 0.24510366,
        0.25209043, 0.24162533, 0.24878518, 0.24537754, 0.25227113, 0.24162533, 0.24920885,
        0.24685164, 0.25404322, 0.23717689, 0.24735233, 0.24684102, 0.26403317, 0.26384356,
        0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421,
        0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912,
        0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667,
        0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667,
        0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421,
        0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912,
        0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667,
        0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667,
        0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421,
        0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.26666667, 0.26666667, 0.25964912,
        0.27368421, 0.26666667, 0.26666667, 0.25964912, 0.27368421, 0.27037037, 0.25966522,
        0.2479189, 0.24844388, 0.23810506, 0.23955978, 0.23503418, 0.25177072, 0.24821348,
        0.24377558, 0.23680999, 0.25207775, 0.24865324, 0.24436141, 0.23696962, 0.25285446,
        0.25008738, 0.24460705, 0.2266168, 0.24421259, 0.24621032, 0.24877209, 0.25545246,
        0.27017544, 0.27017544, 0.26666667, 0.25964912, 0.27017544, 0.27017544, 0.26666667,
        0.25964912, 0.27017544, 0.27017544, 0.26666667, 0.25964912, 0.27017544, 0.27017544,
        0.26666667, 0.25964912, 0.27017256, 0.27017544, 0.26666807, 0.25964912, 0.27017544,
        0.27017544, 0.26666667, 0.25964912, 0.27017544, 0.27017544, 0.26666667, 0.25964912,
        0.27017544, 0.27017544, 0.26666667, 0.2596473, 0.27017544, 0.27017544, 0.26666667,
        0.25965186, 0.27017544, 0.27017544, 0.26666667, 0.25964912, 0.27017544, 0.27017544,
        0.26666667, 0.25964912, 0.27017544, 0.27017544, 0.26666667, 0.25964912, 0.27017544,
        0.26953507, 0.26540705, 0.24580437, 0.24366698, 0.24367624, 0.25473666, 0.24327771,
        0.24742752, 0.24755757, 0.25537185, 0.2442309, 0.24830204, 0.2485027, 0.25596103,
        0.24442578, 0.24925994, 0.25030615, 0.25970133, 0.23480199, 0.24064547, 0.24296367,
        0.26018267, 0.26315789, 0.26666667, 0.25964912, 0.27017544, 0.26666667, 0.27017544,
        0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667,
        0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544,
        0.27017544, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912,
        0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544,
        0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667,
        0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544,
        0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912,
        0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.26332611,
        0.24611786, 0.246484, 0.24611311, 0.25591766, 0.2453174, 0.24833494, 0.24455724,
        0.25591766, 0.24520656, 0.24870525, 0.2450839, 0.25591766, 0.24491838, 0.24882869,
        0.24528646, 0.25591766, 0.24232478, 0.2424064, 0.24557637, 0.26276699, 0.26241612,
        0.26666667, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544,
        0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912,
        0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544,
        0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667,
        0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544,
        0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912,
        0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544,
        0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666667,
        0.27017544, 0.25964912, 0.27017544, 0.26666667, 0.27017544, 0.25964912, 0.27017544,
        0.26666667, 0.27017544, 0.25964912, 0.27017544, 0.26666427,
    ],
    &[
        0.07441176, 0.07445715, 0.08155812, 0.08070175, 0.08070175, 0.07719298, 0.0877193,
        0.08070175, 0.08070175, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08421053,
        0.0877193, 0.08070175, 0.0877193, 0.08070175, 0.08421053, 0.08421053, 0.0877193,
        0.08070175, 0.0877193, 0.08421053, 0.0877193, 0.08421053, 0.0877193, 0.08070175,
        0.08421053, 0.08070175, 0.08421053, 0.08070175, 0.08070175, 0.08421053, 0.0877193,
        0.08070175, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.07719298,
        0.08421053, 0.08070131, 0.08070175, 0.08421053, 0.0877193, 0.08421053, 0.08421053,
        0.08070175, 0.0877193, 0.08070175, 0.08070175, 0.08421053, 0.0877193, 0.08421053,
        0.08421053, 0.07719298, 0.08421053, 0.08421053, 0.0877193, 0.08421053, 0.08771963,
        0.08070175, 0.08070175, 0.07719298, 0.08421053, 0.08070175, 0.08421053, 0.07758375,
        0.08824657, 0.0813207, 0.07430595, 0.07084604, 0.07964486, 0.0756397, 0.08329685,
        0.07669646, 0.08076045, 0.07675726, 0.07656305, 0.07240289, 0.08296601, 0.07508375,
        0.08201381, 0.07489495, 0.08190049, 0.07466268, 0.08155297, 0.07084242, 0.08124369,
        0.08070175, 0.0877193, 0.08070175, 0.0877193, 0.08070175, 0.08421053, 0.07719298,
        0.0877193, 0.08070175, 0.0877193, 0.08070175, 0.08771967, 0.08070175, 0.08421053,
        0.07719298, 0.0877193, 0.08070175, 0.0877193, 0.08070175, 0.0877193, 0.08070175,
        0.08421053, 0.07719298, 0.0877193, 0.08070175, 0.0877193, 0.07719298, 0.0877193,
        0.08070175, 0.08421053, 0.08070175, 0.0877193, 0.08070175, 0.0877193, 0.07719298,
        0.0877193, 0.08070175, 0.08421053, 0.07719298, 0.0877193, 0.08070175, 0.0877193,
        0.07719298, 0.0877193, 0.08070175, 0.0877193, 0.07719298, 0.08363995, 0.07674696,
        0.08033751, 0.0734398, 0.07879023, 0.07092179, 0.07774736, 0.07475981, 0.07831055,
        0.07476699, 0.07820143, 0.07470693, 0.07827878, 0.07111757, 0.07832898, 0.07467853,
        0.07879023, 0.06979375, 0.07671978, 0.07658438, 0.08001543, 0.079809, 0.08070175,
        0.08421053, 0.0877193, 0.08070175, 0.08070175, 0.08070175, 0.08421053, 0.0877193,
        0.08070175, 0.08421053, 0.0877193, 0.0877193, 0.08070175, 0.08421053, 0.0877193,
        0.08421053, 0.08070175, 0.08070175, 0.08070175, 0.08421053, 0.08070175, 0.08070175,
        0.0877193, 0.08421053, 0.08421053, 0.08070175, 0.08070175, 0.08421053, 0.08070175,
        0.08070175, 0.08070175, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.0877193, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.08070175, 0.08070175, 0.08070175, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.0877193, 0.08070175, 0.08070175, 0.08070175, 0.08070175, 0.0877193,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08070175, 0.0877193,
        0.0877193, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.082846, 0.08184215,
        0.08203404, 0.07504181, 0.08298599, 0.0784679, 0.07948705, 0.08255243, 0.07876413,
        0.0821931, 0.08573222, 0.07869381, 0.0792425, 0.07252746, 0.07547875, 0.07655978,
        0.07486403, 0.07623856, 0.08014499, 0.07529145, 0.0745712, 0.08070175, 0.08421008,
        0.08070175, 0.08070175, 0.07719298, 0.08070175, 0.08070175, 0.07719298, 0.08070175,
        0.08421053, 0.0877193, 0.0877193, 0.08421053, 0.0877193, 0.08421053, 0.08070175,
        0.08070175, 0.08421053, 0.08070072, 0.08070175, 0.08070212, 0.08421053, 0.08421053,
        0.08421053, 0.07719298, 0.08421053, 0.0877193, 0.08070175, 0.08421053, 0.08070175,
        0.0877193, 0.08070175, 0.08070175, 0.08420998, 0.08421053, 0.08421053, 0.07719298,
        0.08772033, 0.0877193, 0.08421053, 0.08070175, 0.08421053, 0.0877193, 0.0877193,
        0.08421053, 0.08070175, 0.08421053, 0.08070175, 0.08070175, 0.08070175, 0.08421053,
        0.08514082, 0.07830233, 0.07427338, 0.07785295, 0.08149287, 0.07856165, 0.07437832,
        0.07782278, 0.07782656, 0.07842356, 0.07430848, 0.07802712, 0.07385249, 0.07783351,
        0.07753955, 0.07813108, 0.07758941, 0.07915893, 0.0748665, 0.07376608, 0.07738565,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053,
        0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053,
        0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053,
        0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053,
        0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.0807625,
        0.07736092, 0.08358519, 0.08350414, 0.08284633, 0.07896176, 0.08286163, 0.08290409,
        0.08276352, 0.07937774, 0.08269645, 0.08289127, 0.08273279, 0.0790314, 0.08289626,
        0.08271073, 0.08223474, 0.07718239, 0.08059317, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053,
        0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053,
        0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053,
        0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053,
        0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070175,
        0.08421053, 0.08421053, 0.08421053, 0.08070175, 0.08421053, 0.08421053, 0.08421053,
        0.08070175, 0.08421053, 0.08421053, 0.08421053, 0.08070077,
    ],
);

fn dtw_distance_euclidean(c: &mut Criterion) {
    let mut group = c.benchmark_group("dtw_distance_euclidean");
    let windows = [Some(10)];
    for window in windows {
        group.bench_with_input(
            BenchmarkId::from_parameter(format!("{:?}", window)),
            &EXAMPLES,
            |b, (s, t)| {
                b.iter(|| {
                    let mut dtw = Dtw::euclidean();
                    if let Some(window) = window {
                        dtw = dtw.with_window(window);
                    }
                    dtw.distance(s, t)
                });
            },
        );
    }
}

criterion_group!(benches, dtw_distance_euclidean);
criterion_main!(benches);
